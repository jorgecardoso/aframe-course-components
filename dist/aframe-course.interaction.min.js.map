{"version":3,"file":"aframe-course.interaction.min.js","mappings":"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","sources":["webpack://aframe-course-components/webpack/universalModuleDefinition","webpack://aframe-course-components/./src/interaction/new-event-set.js","webpack://aframe-course-components/./src/interaction/playvideo.js","webpack://aframe-course-components/./src/interaction/toggle-controls.js","webpack://aframe-course-components/webpack/bootstrap","webpack://aframe-course-components/./src/interaction/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn ","const EPS = 0.1;\r\n\r\n\r\n\r\n\r\nvar styleParser = AFRAME.utils.styleParser;\r\n\r\n/* global AFRAME */\r\n// AFRAME styleParse has one issue: it transforms hyphenated keys to camel-case.\r\n// This is a problem when those keys are component names, as A-Frame component\r\n// names often include hyphens, and are not converted internally to camel case.\r\n\r\n// To compensate for this, we post-process the data from the parser:\r\n// - analyze the first part of the string, represeting the component\r\n// - if translating this out of camel case to a dashed value gives\r\n//   a better match against known A-Frame components, then use the dashed value\r\n//   for the component name.\r\n\r\n// This solution is not 100% robust, but good enough for most circumstances.\r\n// - Will not handle component names that have a mix of camel case and dashes\r\n//   e.g. example-componentOne\r\n// - Could give incorrect results in case where two components have names that\r\n//   only differ by their casing.\r\n//   e.g. example-component-two & exampleComponentTwo\r\nvar styleParse = function styleParse(value) {\r\n\r\n  function dashLowerCase(str) {\r\n    return '-' + str[0].toLowerCase();\r\n  }\r\n\r\n  function fromCamelCase(str) {\r\n    return str.replace(/([A-Z])/g, dashLowerCase);\r\n  }\r\n\r\n  var data = AFRAME.utils.styleParser.parse(value);\r\n\r\n  var key;\r\n  var component;\r\n  var remainder;\r\n  var dashComponent;\r\n  var dashKey;\r\n\r\n  for (key in data) {\r\n    component = key.split('.')[0];\r\n    remainder = key.split('.').slice(1).join('.');\r\n    dashComponent = fromCamelCase(component);\r\n    if (component === dashComponent) {\r\n      continue;\r\n    }\r\n\r\n    if (AFRAME.components[dashComponent] && !AFRAME.components[component]) {\r\n      dashKey = dashComponent.concat('.', remainder);\r\n      data[dashKey] = data[key];\r\n      delete data[key];\r\n    }\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\nif (typeof AFRAME === 'undefined') {\r\n  throw new Error('Component attempted to register before AFRAME was available.');\r\n}\r\n\r\nmodule.exports =  AFRAME.registerComponent('new-event-set', {\r\n  schema: {\r\n    default: '',\r\n    parse: function (value) {\r\n        console.log(\"value: \", value);\r\n        let r = styleParse(value);\r\n        console.log(\"parsed: \", r)\r\n      return r;\r\n    },\r\n    stringify: function (data) {\r\n        console.log(\"stringify: \",data);\r\n      return styleParser.stringify(data);\r\n    },\r\n  },\r\n\r\n  multiple: true,\r\n\r\n  init: function () {\r\n    this.eventHandler = null;\r\n    this.eventName = null;\r\n  },\r\n\r\n  update: function (oldData) {\r\n    this.removeEventListener();\r\n    this.updateEventListener();\r\n    this.addEventListener();\r\n  },\r\n\r\n  pause: function () {\r\n    this.removeEventListener();\r\n  },\r\n\r\n  play: function () {\r\n    this.addEventListener();\r\n  },\r\n\r\n  /**\r\n   * Update source-of-truth event listener registry.\r\n   * Does not actually attach event listeners yet.\r\n   */\r\n  updateEventListener: function () {\r\n    var data = this.data;\r\n    var el = this.el;\r\n    var event;\r\n    var target;\r\n    var targetEl;\r\n\r\n    // Set event listener using `_event`.\r\n    event = data._event || this.id;\r\n    target = data._target;\r\n\r\n    // Decide the target to `setAttribute` on.\r\n    targetEl = target ? el.sceneEl.querySelector(target) : el;\r\n\r\n    this.eventName = event;\r\n\r\n    const handler = () => {\r\n      var propName;\r\n      // Set attributes.\r\n      for (propName in data) {\r\n        if (propName === '_event' || propName === '_target') { continue; }\r\n        AFRAME.utils.entity.setComponentProperty.call(this, targetEl, propName,\r\n                                                      data[propName]);\r\n      }\r\n    };\r\n\r\n    if (!isNaN(data._delay)) {\r\n      // Delay.\r\n      this.eventHandler = () => { setTimeout(handler, parseFloat(data._delay)); };\r\n    } else {\r\n      this.eventHandler = handler;\r\n    }\r\n  },\r\n\r\n  addEventListener: function () {\r\n    this.el.addEventListener(this.eventName, this.eventHandler);\r\n  },\r\n\r\n  removeEventListener: function () {\r\n    this.el.removeEventListener(this.eventName, this.eventHandler);\r\n  }\r\n});","\r\nlet playvideo = AFRAME.registerComponent('playvideo', {\r\n  schema: { type: 'selector', default: 'video' },\r\n  init: function () {\r\n    console.log(\"Playing video\", this.data)\r\n\r\n    try {\r\n      this.data.loop = false;\r\n      this.data.play();\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    let target = null;\r\n    if (this.el.components['videotarget'] && this.el.components['videotarget'].data) {\r\n      target = this.el.components['videotarget'].data;\r\n    } else { // if no videotarget is set, play on self\r\n      target = this.el;\r\n    }\r\n    console.log(\"Playing on: \", target);\r\n    target.setAttribute('src', this.el.components['playvideo'].attrValue);\r\n\r\n    // Automatically remove the component after playing\r\n    setTimeout(function () {\r\n      this.el.removeAttribute('playvideo');\r\n    }.bind(this), 100);\r\n\r\n  },\r\n  remove: function () {\r\n    console.log(\"Removing playvideo\")\r\n  }\r\n});\r\n\r\n\r\nlet loopvideo = AFRAME.registerComponent('loopvideo', {\r\n  schema: { type: 'selector', default: 'video' },\r\n  init: function () {\r\n    console.log(\"Looping video\", this.data)\r\n\r\n    try {\r\n      this.data.loop = true;\r\n      this.data.play();\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    let target = null;\r\n    if (this.el.components['videotarget'] && this.el.components['videotarget'].data) {\r\n      target = this.el.components['videotarget'].data;\r\n    } else { // if no videotarget is set, play on self\r\n      target = this.el;\r\n    }\r\n    console.log(\"Playing on: \", target);\r\n    target.setAttribute('src', this.el.components['loopvideo'].attrValue);\r\n\r\n    setTimeout(function () {\r\n      this.el.removeAttribute('loopvideo');\r\n    }.bind(this), 100);\r\n\r\n  },\r\n  remove: function () {\r\n    console.log(\"Removing loopvideo\")\r\n  }\r\n});\r\n\r\n\r\nlet stopallvideos = AFRAME.registerComponent('stopallvideos', {\r\n  init: function () {\r\n    console.log(\"Stopping all videos\")\r\n\r\n    // Check if videoset component exists\r\n    if (this.el.components['videoset']) {\r\n       console.log(this.el.components['videoset'].data);\r\n      this.el.components['videoset'].data.forEach(function (v) {\r\n        v.pause();\r\n        v.currentTime = 0;\r\n      });\r\n    } else {\r\n      // Check if there is a video in the current entity\r\n      if (this.el.getAttribute('src') ) {\r\n        let video = document.querySelector(this.el.getAttribute('src'));\r\n        if (video && video.tagName.toLowerCase() === 'video') {\r\n          console.log(\"Stopping video on self: \", video);\r\n          video.pause();\r\n          video.currentTime = 0;\r\n        } else {\r\n          console.warn(\"No video found in the current entity.\");\r\n        }\r\n      }\r\n    }\r\n   \r\n    setTimeout(function () {\r\n      this.el.removeAttribute('stopallvideos');\r\n    }.bind(this), 100);\r\n\r\n  },\r\n  remove: function () {\r\n    console.log(\"Removing stopallvideos\")\r\n  }\r\n});\r\n\r\nlet pauseallvideos = AFRAME.registerComponent('pauseallvideos', {\r\n  init: function () {\r\n    console.log(\"Pausing all videos\")\r\n      // Check if videoset component exists\r\n    if (this.el.components['videoset']) {\r\n       console.log(this.el.components['videoset'].data);\r\n      this.el.components['videoset'].data.forEach(function (v) {\r\n        v.pause();\r\n      });\r\n    } else {\r\n      // Check if there is a video in the current entity\r\n      if (this.el.getAttribute('src') ) {\r\n        let video = document.querySelector(this.el.getAttribute('src'));\r\n        if (video && video.tagName.toLowerCase() === 'video') {\r\n          console.log(\"Pausing video on self: \", video);\r\n          video.pause();\r\n        } else {\r\n          console.warn(\"No video found in the current entity.\");\r\n        }\r\n      }\r\n    }\r\n\r\n    setTimeout(function () {\r\n      this.el.removeAttribute('pauseallvideos');\r\n    }.bind(this), 100);\r\n\r\n  },\r\n  remove: function () {\r\n    console.log(\"Removing pauseallvideos\")\r\n  }\r\n});\r\n\r\n\r\n\r\n/**\r\n * videotarget component is used to set a target video entity.\r\n */\r\nlet videotarget = AFRAME.registerComponent('videotarget', {\r\n  schema: { type: 'selector', default: 'a-video' },\r\n\r\n  init: function () {\r\n  }\r\n});\r\n\r\n\r\nlet videoset = AFRAME.registerComponent('videoset', {\r\n  schema: { type: 'selectorAll', default: 'videos' },\r\n\r\n  init: function () {\r\n  }\r\n});\r\n\r\nmodule.exports =  [playvideo, loopvideo, stopallvideos, pauseallvideos, videotarget, videoset];","/* Taken from https://github.com/mattrei/aframe-toggle-controls-component \r\nRemoved restriction to A-Entity and A-Scene tags.\r\n */\r\nif (typeof AFRAME === 'undefined') {\r\n    throw new Error('Component attempted to register before AFRAME was available.');\r\n}\r\n\r\nconst bind = AFRAME.utils.bind;\r\n\r\nmodule.exports = AFRAME.registerComponent('toggle-controls', {\r\n    schema: {\r\n        enabled: {\r\n            default: true,\r\n            type: 'boolean'\r\n        },\r\n        toggled: {\r\n            default: false,\r\n            type: 'boolean'\r\n        },\r\n        events: {\r\n            type: 'array',\r\n            default: []\r\n        },\r\n        type: {\r\n            oneOf: ['single', 'double'],\r\n            default: 'single'\r\n        },\r\n        onEvents: {\r\n            type: 'array'\r\n        },\r\n        offEvents: {\r\n            type: 'array'\r\n        },\r\n        toggleTimeout: {\r\n            type: 'int',\r\n            default: 400\r\n        },\r\n        eventCond: {\r\n            default: ''\r\n        }\r\n    },\r\n\r\n    multiple: true,\r\n\r\n    init: function () {\r\n        this.clickTimer = null;\r\n        this.onToggle = bind(this.onToggle, this);\r\n    },\r\n\r\n    update: function (oldData) {\r\n        const data = this.data;\r\n        this.toggled = data.toggled;\r\n        this.eventCond = data.eventCond && data.eventCond.split('=').length == 2 ? data.eventCond.split('=') : null;\r\n    },\r\n\r\n    play: function () {\r\n        this.addEventListeners();\r\n    },\r\n\r\n    pause: function () {\r\n        this.removeEventListeners();\r\n    },\r\n\r\n    remove: function () {\r\n        this.pause();\r\n    },\r\n\r\n    addEventListeners: function () {\r\n        addEventListeners(this.el, this.data.events, this.onToggle);\r\n    },\r\n\r\n    removeEventListeners: function () {\r\n        removeEventListeners(this.el, this.data.events, this.onToggle);\r\n    },\r\n\r\n    onToggle: function (evt) {\r\n        const data = this.data;\r\n\r\n        if (!data.enabled) return;\r\n        if (this.eventCond) {\r\n            if (evt[this.eventCond[0]] !== this.eventCond[1]) return;\r\n        }\r\n        console.log(evt.target.tagName);\r\n        if (\r\n            true\r\n            /*evt.target.tagName === 'A-ENTITY' \r\n                 || evt.target.tagName === 'A-SCENE'\r\n                 \r\n                 evt.target.tagName === 'CANVAS' \r\n                 || evt.target.tagName === 'A-SCENE'\r\n                 || evt.target.tagName === 'BODY'\r\n                 */\r\n        ) {\r\n            if (data.type === 'double') {\r\n                if (this.clickTimer == null) {\r\n                    this.clickTimer = setTimeout(() => {\r\n                        this.clickTimer = null;\r\n                    }, data.toggleTimeout);\r\n                } else {\r\n                    clearTimeout(this.clickTimer);\r\n                    this.clickTimer = null;\r\n                    this._toggle();\r\n                }\r\n            } else {\r\n                this._toggle();\r\n            }\r\n        }\r\n    },\r\n\r\n    _toggle: function () {\r\n\r\n        const data = this.data;\r\n\r\n        if (this.toggled) {\r\n            emitEvents(this.el, data.offEvents);\r\n        } else {\r\n            emitEvents(this.el, data.onEvents);\r\n        }\r\n        console.log(this.toggled)\r\n        this.toggled = !this.toggled;\r\n    }\r\n});\r\n\r\n\r\nfunction emitEvents(el, eventNames) {\r\n    var i;\r\n    for (i = 0; i < eventNames.length; i++) {\r\n        el.emit(eventNames[i], null);\r\n        console.log(\"emmited: \", eventNames[i])\r\n    }\r\n}\r\n\r\n\r\nfunction addEventListeners(el, eventNames, handler) {\r\n    var i;\r\n    for (i = 0; i < eventNames.length; i++) {\r\n        const eventName = eventNames[i];\r\n        if (eventName.includes('key')) {\r\n            window.addEventListener(eventName, handler);\r\n        } else {\r\n            el.addEventListener(eventName, handler);\r\n        }\r\n    }\r\n}\r\n\r\nfunction removeEventListeners(el, eventNames, handler) {\r\n    var i;\r\n    for (i = 0; i < eventNames.length; i++) {\r\n        const eventName = eventNames[i];\r\n        if (eventName.includes('key')) {\r\n            window.removeEventListener(eventName, handler);\r\n        } else {\r\n            el.removeEventListener(eventName, handler);\r\n        }\r\n    }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","require('./new-event-set');\r\nrequire('./toggle-controls');\r\nrequire('./playvideo');"],"names":["root","factory","exports","module","define","amd","a","i","self","styleParser","AFRAME","utils","Error","registerComponent","schema","default","parse","value","console","log","r","dashLowerCase","str","toLowerCase","key","component","remainder","dashComponent","data","split","slice","join","replace","components","concat","styleParse","stringify","multiple","init","this","eventHandler","eventName","update","oldData","removeEventListener","updateEventListener","addEventListener","pause","play","event","target","targetEl","el","_event","id","_target","sceneEl","querySelector","handler","propName","entity","setComponentProperty","call","isNaN","_delay","setTimeout","parseFloat","playvideo","type","loop","e","setAttribute","attrValue","removeAttribute","bind","remove","loopvideo","stopallvideos","forEach","v","currentTime","getAttribute","video","document","tagName","warn","pauseallvideos","videotarget","videoset","emitEvents","eventNames","length","emit","enabled","toggled","events","oneOf","onEvents","offEvents","toggleTimeout","eventCond","clickTimer","onToggle","addEventListeners","removeEventListeners","includes","window","evt","clearTimeout","_toggle","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__"],"sourceRoot":""}